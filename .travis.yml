osx_image: xcode611
language: objective-c
xcode_workspace: WordPress.xcworkspace
xcode_scheme: WordPress
xcode_sdk: iphonesimulator8.1
notifications:
  email: true
before_install:
  - gem install cocoapods
install:
- gem install xcpretty --no-rdoc --no-ri --no-document --quiet
script:
- set -o pipefail && xcodebuild build -workspace "$XCWORKSPACE" -scheme "$scheme" -sdk "$XCSDK" ONLY_ACTIVE_ARCH=NO | xcpretty -c
- ./Scripts/run-oclint.sh
